angular.module("ng").config(["$provide",function(n){n.decorator("$browser",["$delegate","$window","$document","$log","$sniffer",function(n,e,r,t,o){function u(n,e){return p.call(n,e||0)}function i(n){var e=n.indexOf("#");return-1==e?n:n.substr(0,e)}function a(n){try{n.apply(null,u(arguments,1))}finally{if(C--,0===C)for(;O.length;)try{O.pop()()}catch(e){t.error(e)}}}function l(n){var e=n.indexOf("#");return-1===e?"":n.substr(e+1)}function c(n,e){!function r(){angular.forEach(w,function(n){n()}),R=e(r,n)}()}function f(){s(),h()}function s(){x=e.history.state,x=angular.isUndefined(x)?null:x,angular.equals(x,A)&&(x=A),A=x}function h(){(I!==v.url()||q!==x)&&(I=v.url(),q=x,angular.forEach(M,function(n){n(v.url(),x)}))}function d(n){try{return decodeURIComponent(n)}catch(e){return n}}var g=-1!=navigator.userAgent.indexOf("Version/9.")&&-1!=navigator.appVersion.indexOf("9_0");if(!g)return n;var p=[].slice,v=n,y=r[0],$=e.location,m=e.history,b=e.setTimeout,U=e.clearTimeout,k={};v.isMock=!1;var C=0,O=[];v.$$completeOutstandingRequest=a,v.$$incOutstandingRequestCount=function(){C++},v.notifyWhenNoOutstandingRequests=function(n){angular.forEach(w,function(n){n()}),0===C?n():O.push(n)};var R,w=[];v.addPollFn=function(n){return angular.isUndefined(R)&&c(100,b),w.push(n),n};var x,q,I=$.href,T=r.find("base"),E=null,S=null,H=null;s(),q=x,v.url=function(n,r,t){if(angular.isUndefined(t)&&(t=null),$!==e.location&&($=e.location),m!==e.history&&(m=e.history),!H&&S&&n&&(H=b(function(){$.href==S&&(S=null),H=null},0)),n){var u=q===t;if(I===n&&(!o.history||u))return v;var a=I&&i(I)===i(n);return I=n,q=t,!o.history||a&&u?(S=n,a||(E=n),r?$.replace(n):a?$.hash=l(n):$.href=n):(m[r?"replaceState":"pushState"](t,"",n),s(),q=x),v}var c=$.href.replace(/%27/g,"'");return S&&(c=S),$.href==S&&(S=null),E||c},v.state=function(){return x};var M=[],V=!1,A=null;v.onUrlChange=function(n){return V||(o.history&&angular.element(e).on("popstate",f),angular.element(e).on("hashchange",f),V=!0),M.push(n),n},v.$$checkUrlChange=h,v.baseHref=function(){var n=T.attr("href");return n?n.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var F={},G="",J=v.baseHref();return v.cookies=function(n,e){var r,o,u,i,a;if(!n){if(y.cookie!==G)for(G=y.cookie,o=G.split("; "),F={},i=0;i<o.length;i++)u=o[i],a=u.indexOf("="),a>0&&(n=d(u.substring(0,a)),void 0===F[n]&&(F[n]=d(u.substring(a+1))));return F}void 0===e?y.cookie=encodeURIComponent(n)+"=;path="+J+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(e)&&(r=(y.cookie=encodeURIComponent(n)+"="+encodeURIComponent(e)+";path="+J).length+1,r>4096&&t.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},v.defer=function(n,e){var r;return C++,r=b(function(){delete k[r],a(n)},e||0),k[r]=!0,r},v.defer.cancel=function(n){return k[n]?(delete k[n],U(n),a(angular.noop),!0):!1},v}])}]);
